(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{178:function(e,t,a){e.exports=a(398)},183:function(e,t,a){},185:function(e,t,a){},398:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(20),s=a.n(l),c=(a(183),a(6)),o=a(7),i=a(9),m=a(8),d=a(10),u=(a(185),a(4)),p=a(399),h=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.currentUrl;return r.a.createElement(u.f,{md:"2",className:"d-none d-md-block sidebar"},r.a.createElement("div",{className:"sidebar-sticky"},r.a.createElement(u.p,{className:"flex-column"},r.a.createElement(u.q,{className:"".concat("/"===e?"bg-primary":"")},r.a.createElement(p.a,{to:"/",className:"nav-link ".concat("/"===e?"text-white":"")},r.a.createElement("span",{"data-feather":"home"}),"Dashboard",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement(u.q,{className:"".concat("/bid"===e?"bg-primary":"")},r.a.createElement(p.a,{to:"/bid",className:"nav-link ".concat("/bid"===e?"text-white":"")},r.a.createElement("span",{"data-feather":"home"}),"Bid",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement(u.q,{className:"".concat("/new"===e?"bg-primary":"")},r.a.createElement(p.a,{to:"/new",className:"nav-link ".concat("/new"===e?"text-white":"")},r.a.createElement("span",{"data-feather":"home"}),"New Advertisement",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement("h6",{className:"d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},r.a.createElement("span",null,"Settings"),r.a.createElement("a",{className:"d-flex align-items-center text-muted",href:"#"},r.a.createElement("span",{"data-feather":"plus-circle"})))),r.a.createElement(u.p,{className:"flex-column mb-2"},r.a.createElement(u.q,null,r.a.createElement(p.a,{to:"/login",onClick:this.props.logout,className:"nav-link bg-transparent border-0"},"Log out")))))}}]),t}(n.Component),g=function(e){var t=e.title,a=e.number,n=e.color;return r.a.createElement(u.c,{body:!0,className:"m-2 d-inline-block"},r.a.createElement(u.e,null,t),r.a.createElement(u.d,{className:"".concat(n?"text-success":"text-danger")},a))},b=a(175),f={height:"425px"},E=function(e){var t=e.medium,a=e.approved,n=e.rejected,l=e.myData;return r.a.createElement(u.f,{md:"10",className:"ml-sm-auto p-0"},r.a.createElement("div",{className:"d-flex justify-content-between flex-wrap"},r.a.createElement("div",{className:"w-100 bg-gradient-primary d-flex justify-content-center align-items-center p-5",style:f},r.a.createElement(g,{color:!0,title:"Campaign Applications",number:t.length}),r.a.createElement(g,{color:!0,title:"Approved Campaigns",number:a.length}),r.a.createElement(g,{color:!1,title:"Rejected Campaigns",number:n.length})),r.a.createElement("div",{className:"w-100 bottom-bg p-5"},r.a.createElement(b.a,{data:l,width:300,height:300,padAngle:.05,labelsAboveChildren:!0,showLabels:!0}))))},v=a(400),N=a(12),w=a.n(N),j=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).logout=function(e){localStorage.removeItem("jwt"),localStorage.removeItem("currentUser"),a.forceUpdate()},a.componentDidMount=function(){w()({method:"get",url:"https://bidboard.herokuapp.com/api/v1/media/me",headers:{"content-type":"multipart/form-data",authorization:"Bearer ".concat(localStorage.jwt)}}).then(function(e){var t=e.data;console.log(t.all_ads),a.setState({medium:t.all_ads})}).catch(function(e){console.log("ERROR: ",e)})},a.state={medium:[],currentUrl:a.props.match.path},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.medium,a=e.currentUrl,n=t.filter(function(e){if(1==e.is_approved)return e}),l=t.filter(function(e){if(0==e.is_approved)return e}),s=[];if(console.log(n),n.length){var c=n[n.length-1].concepts.general;s=Object.keys(c).map(function(e){return{angle:c[e],label:"".concat(e),innerRadius:.7}}),console.log(s)}return localStorage.getItem("jwt")?r.a.createElement("section",{className:"h-100",id:"dashboard"},r.a.createElement(u.g,{fluid:!0},r.a.createElement(u.s,null,r.a.createElement(h,{currentUrl:a,logout:this.logout}),r.a.createElement(E,{myData:s,medium:t,approved:n,rejected:l})))):r.a.createElement(v.a,{to:"/login"})}}]),t}(n.Component),y=a(169),S=a(39),O=a(40),k=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),y.validate(a.state.emailValue)?w.a.post("https://bidboard.herokuapp.com/api/v1/login",{email:a.state.emailValue,password:a.state.passwordValue}).then(function(e){var t=e.data.auth_token,n=e.data.user;localStorage.setItem("jwt",t),localStorage.setItem("currentUser",JSON.stringify(n)),a.setState({isLoading:!1})}).catch(function(e){console.log(e),a.setState({hasError:!0})}):a.setState({isLoading:!1})},a.handleEmailChange=function(e){a.setState({emailValue:e.target.value})},a.handlePasswordChange=function(e){a.setState({passwordValue:e.target.value})},a.state={emailValue:"",passwordValue:"",isLoading:!1,hasError:!1},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return localStorage.getItem("jwt")?r.a.createElement(v.a,{to:"/"}):r.a.createElement("section",{className:"h-100",id:"login-page"},r.a.createElement(u.g,{fluid:!0,className:"h-100"},r.a.createElement(u.s,{className:"h-100"},r.a.createElement(u.f,{md:"7",className:"h-100 d-none d-md-block",id:"login-left-banner"},r.a.createElement("div",{className:"mb-auto mt-3"})),r.a.createElement(u.f,{md:"5",className:"h-100 d-flex align-items-start flex-column",id:"login-right-banner"},r.a.createElement("div",{className:"mb-auto m-5"},r.a.createElement("h1",null,"Login"),r.a.createElement("p",null,"Hello! Let's get started!")),r.a.createElement(u.h,{className:"mb-auto w-100 p-5",onSubmit:this.handleSubmit},r.a.createElement(u.i,null,r.a.createElement(u.j,{className:"form-control border-top-0 border-left-0 border-right-0 bg-transparent",name:"email",type:"email",placeholder:"email",value:this.state.emailValue,onChange:this.handleEmailChange}),r.a.createElement(u.j,{className:"form-control border-top-0 border-left-0 border-right-0 bg-transparent",name:"password",type:"password",autoComplete:"password",placeholder:"password",value:this.state.passwordValue,onChange:this.handlePasswordChange,required:!0}),r.a.createElement("div",{className:"d-flex flex-row mt-3 ml-1"},r.a.createElement(u.b,{className:"btn btn-dark",value:"Login"},"Login"),r.a.createElement("a",{href:"#",className:"btn btn-primary h-50 ml-1",id:"google-button"},r.a.createElement(S.a,{className:"fab fa-google",icon:O.b}))))),!0===this.state.hasError?r.a.createElement(u.a,{color:"danger"},"Email and Passwords don't match"):"",r.a.createElement("div",{className:"mt-auto mx-auto mb-3"},r.a.createElement("small",{className:"text-muted"},"Don't have an account yet? Sign up\xa0",r.a.createElement(p.a,{to:"/signup",className:"text-muted border-bottom"},"here!")))))))}}]),t}(n.Component),x=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).postCredentials=function(e){e.preventDefault(),w()({method:"post",url:"https://bidboard.herokuapp.com/api/v1/users/create",headers:{"content-type":"application/json"},data:{first_name:a.state.firstname,last_name:a.state.lastname,email:a.state.email,company_name:a.state.companyname,password:a.state.password}}).then(function(e){var t=e.data,n=t.message,r=t.auth_token,l=e.data.user;localStorage.setItem("jwt",r),localStorage.setItem("currentUser",JSON.stringify(l)),a.setState({message:n})}).catch(function(e){console.log(e.response),a.setState({errors:e.response.data.message,hasError:!0})})},a.handleEmail=function(e){var t=e.target.value;a.setState({email:t})},a.handleFirstName=function(e){var t=e.target.value;a.setState({firstname:t})},a.handleLastName=function(e){var t=e.target.value;a.setState({lastname:t})},a.handleCompanyName=function(e){var t=e.target.value;a.setState({companyname:t})},a.handlePassword=function(e){var t=e.target.value;a.setState({password:t})},a.handleSubmit=function(e){e.preventDefault()},a.state={email:"",password:"",firstname:"",lastname:"",companyname:"",message:"",loading:!1,hasError:!1,errors:[]},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return localStorage.getItem("jwt")?r.a.createElement(v.a,{to:"/"}):r.a.createElement("section",{className:"h-100",id:"login-page"},r.a.createElement(u.g,{fluid:!0,className:"h-100"},r.a.createElement(u.s,{className:"h-100"},r.a.createElement(u.f,{md:"7",className:"h-100 d-none d-md-block",id:"login-left-banner"},r.a.createElement("div",{className:"mb-auto mt-3"},r.a.createElement("h3",null,"LOGO"))),r.a.createElement(u.f,{md:"5",className:"h-100 d-flex align-items-start flex-column",id:"login-right-banner"},r.a.createElement("div",{className:"mb-auto m-5"},r.a.createElement("h1",null,"Sign Up"),r.a.createElement("p",null,"Hello! Let's get started by making your account!")),r.a.createElement(u.h,{className:"mb-auto w-100 p-5",onSubmit:this.handleSubmit&&this.postCredentials},r.a.createElement(u.i,null,r.a.createElement(u.j,{onInput:this.handleFirstName,className:"form-control border-top-0 border-left-0 border-right-0 bg-transparent",name:"firstname",placeholder:"First Name",required:!0}),r.a.createElement(u.j,{onChange:this.handleLastName,className:"form-control border-top-0 border-left-0 border-right-0 bg-transparent",name:"lastname",placeholder:"Last Name",required:!0}),r.a.createElement(u.j,{onChange:this.handleEmail,className:"form-control border-top-0 border-left-0 border-right-0 bg-transparent",name:"email",type:"email",placeholder:"Email",required:!0}),r.a.createElement(u.j,{onChange:this.handleCompanyName,className:"form-control border-top-0 border-left-0 border-right-0 bg-transparent",name:"companyname",placeholder:"Company Name",required:!0}),r.a.createElement(u.j,{onChange:this.handlePassword,type:"password",className:"form-control border-top-0 border-left-0 border-right-0 bg-transparent",name:"password",placeholder:"Password",required:!0}),r.a.createElement("div",{className:"d-flex flex-row mt-3 ml-1"},r.a.createElement(u.b,{className:"btn btn-dark",value:"Login"},"Sign Up"),r.a.createElement("a",{href:"#",className:"btn btn-primary h-50 ml-1",id:"google-button"},r.a.createElement(S.a,{className:"fab fa-google",icon:O.b}))))),r.a.createElement("div",null,r.a.createElement("h6",null,!0===this.state.hasError?this.state.errors.map(function(e,t){return r.a.createElement(u.a,{color:"danger",key:t},e)}):"")),r.a.createElement("div",{className:"mt-auto mx-auto mb-3"},r.a.createElement("small",{className:"text-muted"},"Already have an account? Login \xa0",r.a.createElement(p.a,{to:"/login",className:"text-muted border-bottom"},"here!")))))))}}]),t}(n.Component),C=function(e){var t=e.billboard,a=e.handleSelected,n=e.selected;return r.a.createElement("div",{className:"w-100 border-bottom bidItem p-4 ".concat(t.id==n.id?"bg-bidItem":""),onClick:function(){return a(t)}},r.a.createElement("p",null,"Location: ",t.location),r.a.createElement("p",null,"Size: ",t.size))},_=a(64),D=a.n(_),I=a(101),U=a.n(I),L=a(170),M=a(176),R=a(38),B=a(173),T=a.n(B),P=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:!1,currentUser:JSON.parse(localStorage.getItem("currentUser")),amount:null,medium:null,total:null,startDate:new Date((new Date).getTime()+6912e5-6e4*(new Date).getMinutes()-1e3*(new Date).getSeconds()),selected_campaign:null,selected_campaign_error:!1,modal:!1,maxBid:0,newBid:0},a.componentDidMount=function(){a.generate_client_token(),w()({method:"get",url:"https://bidboard.herokuapp.com/api/v1/media/me",headers:{"content-type":"multipart/form-data",authorization:"Bearer ".concat(localStorage.jwt)}}).then(function(e){var t,n,r=e.data,l=a.state.startDate,s=a.props.selected.base_price;if(a.props.selected.bids[0]){var c=[];a.props.selected.bids.forEach(function(e){parseInt(e.booking_at)==parseInt(l.getTime()/1e3)&&c.push(e.amount)}),t=Math.max.apply(Math,c),n=1.1*Math.max.apply(Math,c)}(a.state.startDate.getHours()>=7&&a.state.startDate.getHours()<=9||a.state.startDate.getHours()>=16&&a.state.startDate.getHours()<=21)&&(s*=1.25),a.setState({medium:r.all_ads,selected_campaign:[],total:parseInt(s),maxBid:t,newBid:parseInt(n)})}).catch(function(e){console.log("ERROR: ",e)})},a.componentDidUpdate=function(e,t){if(e.selected!=a.props.selected||t.startDate!=a.state.startDate){var n,r,l=a.state.startDate,s=a.props.selected.base_price;if(a.props.selected.bids[0]){var c=[];a.props.selected.bids.forEach(function(e){parseInt(e.booking_at)==parseInt(l.getTime()/1e3)&&c.push(e.amount)}),c[0]&&(n=Math.max.apply(Math,c),r=1.1*Math.max.apply(Math,c))}(a.state.startDate.getHours()>=7&&a.state.startDate.getHours()<=9||a.state.startDate.getHours()>=16&&a.state.startDate.getHours()<=21)&&(s*=1.25),a.setState({total:parseInt(s),maxBid:n,newBid:parseInt(r)})}},a.toggle=function(){a.state.selected_campaign.id?a.setState({modal:!a.state.modal}):a.setState({selected_campaign_error:!0})},a.generate_client_token=function(){w()({method:"get",url:"https://bidboard.herokuapp.com/api/v1/bids/new_token"}).then(function(e){a.setState({clientToken:e.data})}).catch(function(e){console.log(e)})},a.payment=function(){var e=a.state,t=e.total,n=e.newBid;return n>t?n:t},a.submit_bid=Object(L.a)(U.a.mark(function e(){var t,n;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.instance.requestPaymentMethod();case 2:t=e.sent,n=a.payment(),w()({method:"post",url:"https://bidboard.herokuapp.com/api/v1/bids/new_bid",headers:{"Content-Type":"application/json"},data:{user_id:a.state.currentUser.id,amount:n,nonce:t.nonce,billboard_id:a.props.selected.id,medium_id:a.state.selected_campaign.id,booking_at:a.state.startDate.getTime()/1e3}}).then(function(e){setTimeout(function(){return a.setState({modal:!1,maxBid:n,newBid:parseInt(1.1*n)})},500)}).catch(function(e){console.log(e)});case 5:case"end":return e.stop()}},e,this)})),a.handleSubmit=function(e){e.preventDefault(),a.setState({})},a.handleChange=function(e){a.props.updateParent(),a.setState({startDate:e})},a.handleCampaign=function(e){var t=a.state.medium.find(function(t){return t.campaign_name===e.target.value});t&&a.setState({selected_campaign:t,selected_campaign_error:!1})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.selected,n=t.handleSelected,l=this.state,s=l.medium,c=l.maxBid,o=l.selected_campaign_error;return s?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-100 h-100 border-bottom p-0 active d-flex justify-content-center align-items-center",onClick:n},r.a.createElement(u.h,{className:"w-75 p-3",onSubmit:this.handleSubmit,style:{overflowY:"auto",height:"100vh"}},r.a.createElement(u.i,null,r.a.createElement("h4",null,a.location),r.a.createElement(u.k,{for:"exampleSelect"},"Choose Campaign"),r.a.createElement(u.j,{type:"select",name:"select",id:"exampleSelect",onChange:this.handleCampaign},r.a.createElement("option",null,"Select a campaign"),s.map(function(e,t){return e.is_approved?r.a.createElement("option",{key:t},e.campaign_name):null})),r.a.createElement("div",{className:"w-100 mt-3 mb-3"},r.a.createElement("img",{src:this.state.selected_campaign.medium_url,className:"w-100",alt:""})),r.a.createElement(u.k,{for:"datepicker"},"Select Date"),r.a.createElement(M.a,{selected:this.state.startDate,onChange:this.handleChange,showTimeSelect:!0,timeFormat:"HH:mm",injectTimes:[Object(R.setHours)(Object(R.setMinutes)(new Date,1),0),Object(R.setHours)(Object(R.setMinutes)(new Date,5),12),Object(R.setHours)(Object(R.setMinutes)(new Date,59),23)],dateFormat:"MMMM d, yyyy h:mm aa"}),(new Date).getTime()+6048e5>this.state.startDate.getTime()?r.a.createElement("hr",null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-100 d-flex mt-3 border-top border-bottom p-3"},r.a.createElement("p",{className:"mr-auto"},"Rate for this hour"),r.a.createElement("p",{className:"ml-auto"},this.payment()," MYR")),r.a.createElement("div",{className:"w-100 d-flex mt-3 border-top border-bottom p-3"},r.a.createElement("p",{className:"mr-auto"},"Highest Bid"),c>0?r.a.createElement("p",{className:"ml-auto"},c," MYR"):"This is the first bid!")),(new Date).getTime()+6048e5>this.state.startDate.getTime()?r.a.createElement(u.a,{color:"danger"},"The Bidding for this time slot has closed. Please select a time slot that is more than a week away"):c>0?r.a.createElement(u.a,{color:"info"},"A bid already exists for this billboard and time slot. Please bid a higher booking fee or choose a different billboard/time slot"):"",(new Date).getTime()+6048e5>this.state.startDate.getTime()?null:r.a.createElement("div",{className:"d-flex flex-row mt-3 ml-1 w-100"},r.a.createElement(u.b,{className:"btn btn-dark ml-auto",onClick:this.toggle},"Place Bid")),o?r.a.createElement("small",{style:{color:"red"}},"Please select a campaign"):""))),r.a.createElement(u.f,{md:"10",className:"ml-sm-auto p-0"},r.a.createElement(u.l,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className},r.a.createElement(u.o,{toggle:this.toggle},"Enter your payment details"),r.a.createElement(u.m,null,r.a.createElement(u.k,null,"Bid Payment ",this.payment()," MYR"),r.a.createElement("div",null,r.a.createElement(T.a,{options:{authorization:this.state.clientToken},onInstance:function(t){return e.instance=t}})),r.a.createElement("div",{style:{float:"right"}},r.a.createElement(u.b,{color:"primary",onClick:this.submit_bid},"Place Bid")," ",r.a.createElement(u.b,{color:"secondary",onClick:this.toggle},"Cancel"))),r.a.createElement(u.n,null,r.a.createElement("div",null,r.a.createElement("small",null," You are one step away from completing your bid! No funds will be deducted until the bid closes with you as the highest bidder.")))))):r.a.createElement("h1",null,"Loading...")}}]),t}(n.Component),F={overflowY:"scroll",height:"100vh"},H=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).logout=function(e){localStorage.removeItem("jwt"),localStorage.removeItem("currentUser"),a.forceUpdate()},a.updateParent=function(){w.a.get("https://bidboard.herokuapp.com/api/v1/billboards/").then(function(e){var t=e.data,n=a.state.billboards.find(function(e){return e.location===a.state.selected.location});a.setState({billboards:t.all_billboards,selected:n})}).catch(function(e){console.log("ERROR: ",e)})},a.handleSelected=function(e){console.log(e),a.setState({selected:e})},a.state={billboards:null,selected:null,currentUrl:a.props.match.path},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;w.a.get("https://bidboard.herokuapp.com/api/v1/billboards/").then(function(t){var a=t.data;console.log(a.all_billboards),e.setState({billboards:a.all_billboards,selected:a.all_billboards[0]})}).catch(function(e){console.log("ERROR: ",e)})}},{key:"render",value:function(){var e=this,t=this.state,a=t.billboards,l=t.selected,s=t.currentUrl;return localStorage.getItem("jwt")?null!==a?r.a.createElement("section",{className:"h-100",id:"dashboard"},r.a.createElement(u.g,{fluid:!0,className:"h-100"},r.a.createElement(u.s,{className:"h-100"},r.a.createElement(h,{currentUrl:s,logout:this.logout}),r.a.createElement(u.f,{md:{size:4,offset:2},className:"bil-list p-0",style:F},a.map(function(t,a){return r.a.createElement(C,{key:a,billboard:t,selected:l,handleSelected:e.handleSelected})})),r.a.createElement(u.f,{md:"6",className:"w-100 h-100 p-0"},r.a.createElement(P,{updateParent:this.updateParent,selected:l}))))):r.a.createElement(n.Fragment,null,r.a.createElement("div",{id:"loading",className:"w-100 h-100 d-flex flex-column justify-content-center align-items-center"},r.a.createElement("img",{src:D.a,alt:""}))):r.a.createElement(v.a,{to:"/login"})}}]),t}(n.Component),A=a(177),q=function(e){var t=e.item;return r.a.createElement("div",{className:"w-100 p-3"},r.a.createElement("div",{className:"text-center"},t[0],",",Math.round(100*t[1])," %"),r.a.createElement(u.r,{value:100*t[1]}))},z=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleDescriptionChange=function(t){e.setState({description:t.target.value})},e.handleCampaignNameChange=function(t){e.setState({campaign_name:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.setState({isLoading:!0});var a=new FormData;a.set("campaign_name",e.state.campaign_name),a.set("description",e.state.description),a.set("user_id",e.state.currentUser.id),a.append("user_media",e.state.file[0]),w()({method:"post",url:"https://bidboard.herokuapp.com/api/v1/media/upload",headers:{"Content-Type":"multipart/form-data"},data:a}).then(function(t){console.log(t),201===t.status&&(console.log("success"),e.setState({isLoading:!1,success:!0,medium:t.data.medium,generalConcepts:t.data.concepts.general,illegal:t.data.concepts.illegal,moderation:t.data.concepts.moderation,nsfw:t.data.concepts[3],isApproved:t.data.is_approved,concepts:t.data.concepts}))}).catch(function(e){console.log(e)})},e.onCancel=function(){e.setState({file:[],imgSrc:null,success:!1})},e.state={medium:null,generalConcepts:null,isLoading:!1,success:!1,description:"",campaign_name:"",file:[],imgSrc:null,fileName:"",fileSize:"",currentUser:JSON.parse(localStorage.getItem("currentUser")),illegal:"",nsfw:"",moderation:"",isApproved:null,concepts:null},e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"onDrop",value:function(e){var t=this;e.map(function(e){return t.setState({fileName:e.name,fileSize:(parseInt(e.size)/Math.pow(1024,2)).toFixed(2)})});var a=new FileReader;a.addEventListener("load",function(){t.setState({file:e,imgSrc:a.result})}),a.readAsDataURL(e[0])}},{key:"render",value:function(){var e=this.state,t=e.imgSrc,a=e.fileName,l=e.fileSize,s=e.success,c=e.isLoading,o=e.generalConcepts,i=(e.medium,e.concepts,e.isApproved);return this.state.file.length>0&&s?r.a.createElement("div",{id:"success-preview",className:"w-100 h-100 p-5"},r.a.createElement(u.g,{className:"w-100 h-100",fluid:!0},r.a.createElement(u.s,{className:"h-100"},r.a.createElement(u.f,{md:"3",className:"h-100 p-0 shadow-me"},r.a.createElement("div",{id:"generalconceptdiv",className:"h-100"},Object.entries(o).map(function(e,t){return r.a.createElement(q,{class:"generalconcepts",key:t,item:e})}))),r.a.createElement(u.f,{md:"9",className:"h-100 p-0"},null!==t?r.a.createElement("img",{src:t,className:"w-100 h-25 mb-3 border-bottom",alt:""}):"",i?r.a.createElement("div",{className:"p-3"},r.a.createElement("p",null,"Your Ad has been ",r.a.createElement("span",{className:"text-success"},"approved")),r.a.createElement("h5",null,r.a.createElement(p.a,{to:"/bid",className:""},"Start bidding now !"))):r.a.createElement("div",{className:"p-3"},r.a.createElement("h4",null,"Your Ad has been ",r.a.createElement("span",{className:"text-danger"},"rejected")),r.a.createElement("h5",null,"Reason:"),r.a.createElement("p",null,this.state.moderation.safe<=.4?"The image you uploaded is suggestive of something illegal":""),r.a.createElement("h5",null,r.a.createElement(p.a,{to:"/new",className:""},"New Ad"))))))):this.state.file.length>0&&!1===s?r.a.createElement(n.Fragment,null,c?r.a.createElement(n.Fragment,null,r.a.createElement("div",{id:"loading",className:"w-100 h-100 d-flex flex-column justify-content-center align-items-center"},r.a.createElement("img",{src:D.a,alt:""}))):r.a.createElement(n.Fragment,null,r.a.createElement("div",{id:"preview",className:"w-100 h-100"},null!==t?r.a.createElement("img",{src:t,className:"w-100",height:"244px",alt:""}):"",r.a.createElement(u.t,{className:"w-50 mt-5 border ml-5"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"border-right"},"#"),r.a.createElement("th",{className:"border-right"},"File Name"),r.a.createElement("th",{className:"border-right"},"File Size"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"row",className:"border-right"},"1"),r.a.createElement("td",{className:"border-right"},a),r.a.createElement("td",{className:"border-right"},l," mb")))),r.a.createElement(u.h,{className:"w-100 p-5",onSubmit:this.handleSubmit},r.a.createElement(u.i,null,r.a.createElement(u.j,{className:"form-control border-top-0 border-left-0 border-right-0 bg-transparent",name:"campaign_name",placeholder:"Campaign Name",value:this.state.campaign_name,onChange:this.handleCampaignNameChange,required:!0}),r.a.createElement(u.j,{className:"form-control border-top-0 border-left-0 border-right-0 bg-transparent",name:"description",placeholder:"description",value:this.state.description,onChange:this.handleDescriptionChange,required:!0}),r.a.createElement("div",{className:"d-flex flex-row mt-3 ml-1"},r.a.createElement(u.b,{className:"btn btn-dark",value:"Submit"},"Submit"),r.a.createElement(u.b,{className:"btn btn-danger ml-1",onClick:this.onCancel},"Cancel"))))))):r.a.createElement("section",{id:"dropzone",className:"w-100 h-100 p-5"},r.a.createElement(A.a,{onDrop:this.onDrop.bind(this),onFileDialogCancel:this.onCancel.bind(this),multiple:!1},function(e){var t=e.getRootProps,a=e.getInputProps;return r.a.createElement("div",Object.assign({},t(),{className:"dropzone w-100 h-100 d-flex flex-column justify-content-center align-items-center"}),r.a.createElement("p",null,"Drop files here, or click to select files"),r.a.createElement("input",a()),r.a.createElement(S.a,{className:"fa-2x",icon:O.a}))}))}}]),t}(n.Component),V=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(u.f,{md:"10",className:"ml-sm-auto p-0"},r.a.createElement("div",{className:"d-flex h-100 justify-content-between flex-wrap"},r.a.createElement("div",{className:"w-100 h-100 d-flex justify-content-center align-items-center"},r.a.createElement(z,null))))}}]),t}(r.a.Component),Y=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).logout=function(){localStorage.removeItem("jwt"),localStorage.removeItem("currentUser"),a.forceUpdate()},a.state={currentUser:JSON.parse(localStorage.getItem("currentUser")),currentUrl:a.props.match.path},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=(e.currentUser,e.currentUrl);return localStorage.getItem("jwt")?r.a.createElement("section",{className:"h-100",id:"dashboard"},r.a.createElement(u.g,{fluid:!0,className:"h-100"},r.a.createElement(u.s,{className:"h-100"},r.a.createElement(h,{currentUrl:t,logout:this.logout}),r.a.createElement(V,null)))):r.a.createElement(v.a,{to:"/login"})}}]),t}(n.Component),J=a(402),W=a(403),G=a(102),$=a.n(G),K=(n.Component,function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"content"},r.a.createElement(J.a,null,r.a.createElement(W.a,{path:"/login",component:function(e){return r.a.createElement(k,e)}}),r.a.createElement(W.a,{path:"/signup",component:function(e){return r.a.createElement(x,e)}}),r.a.createElement(W.a,{path:"/new",component:function(e){return r.a.createElement(Y,e)}}),r.a.createElement(W.a,{path:"/bid",component:function(e){return r.a.createElement(H,e)}}),r.a.createElement(W.a,{path:"/",component:function(e){return r.a.createElement(j,e)}}))))}}]),t}(n.Component));a(394),a(396),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Q=a(401);s.a.render(r.a.createElement(Q.a,{basename:"/react-bidboard"},r.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},64:function(e,t,a){e.exports=a.p+"static/media/loader.fef1f20a.gif"}},[[178,2,1]]]);
//# sourceMappingURL=main.43006f0a.chunk.js.map